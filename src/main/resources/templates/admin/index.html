<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/_fragments :: head(~{::title})">
    <meta charset="UTF-8">
    <title>仪表盘 - NoahCode's Blog</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
</head>
<body>
<div th:replace="admin/_fragments :: header" class="ui top attached menu">
    <a class="ui sidebar-icon item">
        <i class="ui bars icon"></i>
    </a>
    <div class="ui right menu">
        <a href="#" class="ui item">
            <i class="ui linkify icon"></i>
        </a>
        <div class="ui top right message-icon pointing dropdown item">
            <i class="ui bell outline icon"></i>
            <div class="ui menu" style="width: 300px;">
                <div class="ui header">
                    <h3 class="ui dividing header">待审核评论</h3>
                </div>
                <div class="ui item">
                    <div class="ui feed">
                        <div class="ui event">
                            <div class="label">
                                <img src="../../static/images/icon.png">
                            </div>
                            <div class="ui content">
                                <div class="ui summary"><a>NoahCode</a>:</div>
                                <div class="ui extra text" style="word-wrap: break-word;white-space:normal;">
                                    欢迎使用 Halo，这是你的第一条评论，头像来自 Gravatar，你也可以通过注册 Gravatar 来显示自己的头像。
                                </div>
                                <div class="ui extra date">3 天前</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="ui top right user pointing dropdown item">
            <div class="ui circular mini image">
                <img src="../../static/images/icon.png" alt="">
            </div>
            <div class="ui menu">
                <div class="ui item">
                    <i class="ui user outline icon"></i>个人信息
                </div>
                <div class="ui item">
                    <i class="ui sign-out icon"></i>退出登录
                </div>
            </div>
        </div>
    </div>
</div>

<div th:replace="admin/_fragments :: sidebar" class="ui tiny inverted left vertical sidebar menu">
    <div class="ui item">
        <img class="ui centered mini image" src="../../static/images/icon.png" alt="">
        <h4 class="ui inverted centered header">NoahCode</h4>
    </div>
    <a class="ui item">仪表盘</a>
    <a class="ui article item">
        <i class="ui chevron down icon"></i>
        文章
    </a>
    <div class="ui article inverted vertical menu" style="display: none;">
        <a class="ui item">所有文章</a>
        <a class="ui item">写文章</a>
        <a class="ui item">分类目录</a>
        <a class="ui item">标签</a>
    </div>
    <a class="ui item">评论</a>
    <a class="ui exterior item">
        <i class="ui chevron down icon"></i>
        外观
    </a>
    <div class="ui exterior inverted vertical menu" style="display: none;">
        <a class="ui item" href="menus.html">菜单</a>
    </div>
    <a class="ui user item">
        <i class="ui chevron down icon"></i>
        用户
    </a>
    <div class="ui user inverted vertical menu" style="display: none;">
        <a class="ui item">个人资料</a>
    </div>
    <a class="ui system item">
        <i class="ui chevron down icon"></i>
        系统
    </a>
    <div class="ui system inverted vertical menu" style="display: none;">
        <a class="ui item">博客设置</a>
        <a class="ui item">关于</a>
    </div>
</div>

<!--面包屑导航条-->
<div class="ui bottom attached segment">
    <div class="ui breadcrumb">
        <a class="ui section" href="index.html" th:href="@{/admin/index}">首页</a>
        <div class="ui divider"> /</div>
        <div class="ui active section">仪表盘</div>
    </div>
</div>

<div class="ui bottom attached">
    <div style="padding: 20px;">
        <!--仪表盘-->
        <div class="ui relaxed grid">
            <div class="ui four column row">
                <div class="ui column">
                    <div class="ui fluid card">
                        <div class="ui content">
                            <a th:href="@{/admin/blogs/input}"><i class="right floated plus icon"></i></a>
                            <div class="header">文章</div>
                            <div class="ui statistic">
                                <div class="ui value" th:text="${blogCounts}">
                                    5,550
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ui column">
                    <div class="ui fluid card">
                        <div class="ui content">
                            <a th:href="@{/admin/comments}"><i class="ui right floated list ul icon"></i></a>
                            <div class="header">评论</div>
                            <div class="ui statistic">
                                <div class="ui value" th:text="${commentCounts}">
                                    5,550
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ui column">
                    <div class="ui fluid card">
                        <div class="ui content">
                            <a href="#"><i class="ui right floated info circle icon"></i></a>
                            <div class="header">阅读量</div>
                            <div class="ui statistic">
                                <div class="ui value" th:text="${viewCounts}">
                                    5,550
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ui column">
                    <div class="ui fluid card">
                        <div class="ui content">
                            <a href="#"><i class="ui right floated info circle icon"></i></a>
                            <div class="header">建立天数</div>
                            <div class="ui statistic">
                                <div class="ui value" th:text="${creatDays}">
                                    5,550
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--功能列表-->
        <div class="ui relaxed grid">
            <div class="ui three column row">
                <div class="ui column">
                    <div class="ui fluid card">
                        <div class="ui content">
                            <div class="ui header">新动态</div>
                        </div>
                        <div class="ui content">
                            <div class="ui top attached tabular menu">
                                <div class="ui active item" data-tab="blog">最新文章</div>
                                <div class="ui item" data-tab="comment">最新评论</div>
                            </div>
                            <div class="ui bottom attached active tab segment" data-tab="blog">
                                <div class="ui divided items">
                                    <div class="ui item" th:each="newBlog:${newBlogs}">
                                        <div class="ui content">
                                            <a href="#" class="ui header" th:text="${newBlog.title}">测试</a>
                                            <div class="ui right floated meta">
                                                <span th:text="${#dates.format(newBlog.createTime,'yyyy-MM-dd HH:mm:ss')}">一天前</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="ui bottom attached tab segment" data-tab="comment">
                                <div class="ui pointing secondary menu">
                                    <a class="item active" data-tab="article">文章</a>
                                    <a class="item" data-tab="page">页面</a>
                                </div>
                                <div class="ui tab segment active" data-tab="article">
                                    <div class="ui divided items">
                                        <div class="ui item" th:each="newBlogComment:${newBlogComments}">
                                            <div class="ui mini circular image">
                                                <img src="../../static/images/icon.png" alt=""
                                                     th:src="@{/images/icon.png}">
                                            </div>
                                            <div class="ui content">
                                                <a href="#" class="ui header"
                                                   th:text="${newBlogComment.postTitle}">测试</a>
                                                <div class="ui right floated meta">
                                                    <span th:text="${#dates.format(newBlogComment.createTime,'yyyy-MM-dd HH:mm:ss')}">一天前</span>
                                                </div>
                                                <div class="ui description">
                                                    <p th:text="${newBlogComment.content}">测试</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="ui tab segment" data-tab="page">
                                    <div class="ui divided items">
                                        <div class="ui item" th:each="newPageComment:${newPageComments}">
                                            <div class="ui mini circular image">
                                                <img src="../../static/images/icon.png" alt=""
                                                     th:src="@{/images/icon.png}">
                                            </div>
                                            <div class="ui content">
                                                <a href="#" class="ui header"
                                                   th:text="${newPageComment.pageTitle}">测试</a>
                                                <div class="ui right floated meta">
                                                    <span th:text="${#dates.format(newPageComment.createTime,'yyyy-MM-dd HH:mm:ss')}">一天前</span>
                                                </div>
                                                <div class="ui description">
                                                    <p th:text="${newPageComment.content}">测试</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ui column">
                    <div class="ui fluid card">
                        <div class="ui content">
                            <div class="ui header">
                                速记
                                <a><i id="journalInfo" class="ui right floated info circle icon" data-content="内容将保存到页面/所有页面/日志页面"></i></a>
                            </div>
                        </div>
                        <div class="ui content">
                            <form class="ui reply form">
                                <div class="field">
                                    <textarea id="sourceContent" name="sourceContent" placeholder="写点什么吧..."></textarea>
                                </div>
                                <input class="ui blue submit button" type="button" value="发布" onclick="postJournal()"/>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="ui column">
                    <div class="ui fluid card">
                        <div class="ui content">
                            <div class="ui header">
                                操作记录
                                <a href="#"><i class="ui right floated ellipsis horizontal icon"></i></a>
                            </div>
                        </div>
                        <div class="ui content">
                            <div class="ui divided items">
                                <div class="ui item">
                                    <div class="ui content">
                                        <a href="#" class="ui cinema">测试</a>
                                        <div class="ui meta">
                                            <span class="ui cinema">3小时前</span>
                                            <span class="ui right floated cinema">NoahCode</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<!--/*/<th:block th:replace="admin/_fragments :: script">/*/-->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
<!--/*/</th:block>/*/-->
<script>
    $('.menu .item')
        .tab()

    $('#journalInfo')
        .popup({
            position: 'top center'
        })

    function postJournal() {
        var sourceContent = $('#sourceContent').val()
        data = {
            "sourceContent": sourceContent
        }
        $.ajax({
            url: '/admin/journals/add',
            type: "POST",
            data: JSON.stringify(data),
            contentType: "application/json",
            success: function () {
                window.location.href = "/admin/index"
            }
        })
    }
</script>
</body>
</html>