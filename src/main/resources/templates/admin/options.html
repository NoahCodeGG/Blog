<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/_fragments :: head(~{::title})">
    <meta charset="UTF-8">
    <title>博客设置 - NoahCode's Blog</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
</head>
<body>
<div th:replace="admin/_fragments :: header" class="ui top attached menu">
    <a class="ui sidebar-icon item">
        <i class="ui bars icon"></i>
    </a>
    <div class="ui right menu">
        <a href="#" class="ui item">
            <i class="ui linkify icon"></i>
        </a>
        <div class="ui top right message-icon pointing dropdown item">
            <i class="ui bell outline icon"></i>
            <div class="ui menu" style="width: 300px;">
                <div class="ui header">
                    <h3 class="ui dividing header">待审核评论</h3>
                </div>
                <div class="ui item">
                    <div class="ui feed">
                        <div class="ui event">
                            <div class="label">
                                <img src="../../static/images/icon.png">
                            </div>
                            <div class="ui content">
                                <div class="ui summary"><a>NoahCode</a>:</div>
                                <div class="ui extra text" style="word-wrap: break-word;white-space:normal;">
                                    欢迎使用 Halo，这是你的第一条评论，头像来自 Gravatar，你也可以通过注册 Gravatar 来显示自己的头像。
                                </div>
                                <div class="ui extra date">3 天前</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="ui top right user pointing dropdown item">
            <div class="ui circular mini image">
                <img src="../../static/images/icon.png" alt="">
            </div>
            <div class="ui menu">
                <div class="ui item">
                    <i class="ui user outline icon"></i>个人信息
                </div>
                <div class="ui item">
                    <i class="ui sign-out icon"></i>退出登录
                </div>
            </div>
        </div>
    </div>
</div>

<div th:replace="admin/_fragments :: sidebar" class="ui tiny inverted left vertical sidebar menu">
    <div class="ui item">
        <img class="ui centered mini image" src="../../static/images/icon.png" alt="">
        <h4 class="ui inverted centered header">NoahCode</h4>
    </div>
    <a class="ui item">仪表盘</a>
    <a class="ui article item">
        <i class="ui chevron down icon"></i>
        文章
    </a>
    <div class="ui article inverted vertical menu" style="display: none;">
        <a class="ui item">所有文章</a>
        <a class="ui item">写文章</a>
        <a class="ui item">分类目录</a>
        <a class="ui item">标签</a>
    </div>
    <a class="ui item">评论</a>
    <a class="ui exterior item">
        <i class="ui chevron down icon"></i>
        外观
    </a>
    <div class="ui exterior inverted vertical menu" style="display: none;">
        <a class="ui item" href="menus.html">菜单</a>
    </div>
    <a class="ui user item">
        <i class="ui chevron down icon"></i>
        用户
    </a>
    <div class="ui user inverted vertical menu" style="display: none;">
        <a class="ui item">个人资料</a>
    </div>
    <a class="ui system item">
        <i class="ui chevron down icon"></i>
        系统
    </a>
    <div class="ui system inverted vertical menu" style="display: none;">
        <a class="ui item">博客设置</a>
        <a class="ui item">关于</a>
    </div>
</div>

<!--面包屑导航条-->
<div class="ui bottom attached segment">
    <div class="ui breadcrumb">
        <a class="ui section" href="index.html" th:href="@{/admin/index}">首页</a>
        <div class="ui divider"> /</div>
        <div class="ui section">系统</div>
        <div class="ui divider"> /</div>
        <div class="ui active section">博客设置</div>
    </div>
</div>

<div class="ui bottom attached pushable">
    <div class="ui relaxed" style="padding: 40px;">
        <div class="ui top attached tabular menu">
            <a class="active item" data-tab="option"><i class="ui wrench icon"></i>常规设置</a>
            <a class="item" data-tab="other"><i class="ui align left icon"></i>其他设置</a>
        </div>
        <div class="ui bottom attached active tab segment" data-tab="option">
            <form class="ui form" method="post">
                <div class="ui required field">
                    <label>博客标题：</label>
                    <input id="blogTitle" type="text" name="blogTitle" th:value="${options?.get('blogTitle')}">
                </div>
                <div class="ui required field">
                    <label>博客地址：</label>
                    <input id="blogUrl" type="text" name="blogUrl" th:value="${options?.get('blogUrl')}">
                </div>
                <div class="ui field">
                    <label>Logo：</label>
                    <input id="blogLogo" type="text" name="blogLogo" th:value="${options?.get('blogLogo')}">
                </div>
                <div class="ui field">
                    <label>Favicon：</label>
                    <input id="blogFavicon" type="text" name="blogFavicon" th:value="${options?.get('blogFavicon')}">
                </div>
                <div class="ui field">
                    <label>页脚信息：</label>
                    <textarea id="blogFooterInfo" name="blogFooterInfo" rows="3" placeholder="支持HTML格式的文本"
                              th:text="${options?.get('blogFooterInfo')}"></textarea>
                </div>
                <button id="optionSubmitBtn" class="ui blue button" type="button">保存</button>
            </form>
        </div>
        <div class="ui bottom attached tab segment" data-tab="other">
            <form class="ui form" method="post">
                <div class="ui field">
                    <label>自定义head：</label>
                    <textarea id="blogCustomHead" name="blog_custom_head" rows="3"
                              placeholder="放置于每个页面的<head></head>标签中"
                              th:text="${options?.get('blogCustomHead')}"></textarea>
                </div>
                <div class="ui field">
                    <label>自定义内容页head：</label>
                    <textarea id="blogCustomContentHead" name="blogCustomContentHead" rows="3"
                              placeholder="仅放置于内容页面的<head></head>标签中"
                              th:text="${options?.get('blogCustomContentHead')}"></textarea>
                </div>
                <!--<div class="ui field">-->
                <!--    <label>统计代码：</label>-->
                <!--    <textarea name="blog_statistics_code" rows="3" placeholder="第三方网站统计的代码，如：Google Analytics、百度统计、CNZZ等"></textarea>-->
                <!--</div>-->
                <button id="otherSubmitBtn" class="ui blue button" type="button">保存</button>
            </form>
        </div>
    </div>
</div>
<!--/*/<th:block th:replace="admin/_fragments :: script">/*/-->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
<script>
    $('.ui.father-type.dropdown')
        .dropdown()
    $('.ui.message-icon.dropdown.item')
        .dropdown()
    $('.ui.user.dropdown.item')
        .dropdown()
    $('.ui.sidebar-icon.item')
        .click(function () {
            $('.ui.sidebar').sidebar('toggle')
        })
    $('.ui.article.item')
        .click(function () {
            $('.ui.article.vertical.menu').toggle('fast', function () {
                $('.ui.chevron.icon:eq(0)').toggleClass('down')
                $('.ui.chevron.icon:eq(0)').toggleClass('up')
            })
        })
    $('.ui.user.item')
        .click(function () {
            $('.ui.user.vertical.menu').toggle('fast', function () {
                $('.ui.chevron.icon:eq(1)').toggleClass('down')
                $('.ui.chevron.icon:eq(1)').toggleClass('up')
            })
        })
    $('.ui.system.item')
        .click(function () {
            $('.ui.system.vertical.menu').toggle('fast', function () {
                $('.ui.chevron.icon:eq(2)').toggleClass('down')
                $('.ui.chevron.icon:eq(2)').toggleClass('up')
            })
        })
</script>
<!--/*/</th:block>/*/-->
<script>
    $('.ui.tabular.menu .item')
        .tab({
            history: true
        })

    $('#optionSubmitBtn').click(function () {
        var blogTitle = $('#blogTitle').val()
        var blogUrl = $('#blogUrl').val()
        var blogLogo = $('#blogLogo').val()
        var blogFavicon = $('#blogFavicon').val()
        var blogFooterInfo = $('#blogFooterInfo').val()
        data = {
            "blogTitle": blogTitle,
            "blogUrl": blogUrl,
            "blogLogo": blogLogo,
            "blogFavicon": blogFavicon,
            "blogFooterInfo": blogFooterInfo
        }
        $.ajax({
            url: '/admin/options/saving',
            type: "POST",
            data: JSON.stringify(data),
            contentType: "application/json",
            success: window.location.href = "/admin/options#/option"
        })
    })

    $('#otherSubmitBtn').click(function () {
        var blogCustomHead = $('#blogCustomHead').val()
        var blogCustomContentHead = $('#blogCustomContentHead').val()
        data = {
            "blogCustomHead": blogCustomHead,
            "blogCustomContentHead": blogCustomContentHead
        }
        $.ajax({
            url: '/admin/options/saving',
            type: "POST",
            data: JSON.stringify(data),
            contentType: "application/json",
            success: window.location.href = "/admin/options#/other"
        })
    })
</script>
</body>
</html>